<html>
	<head>
		<title>Weather</title>
		
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		
		<script src="http://code.jquery.com/jquery-1.7.min.js" ></script>
		<script src="http://code.jquery.com/ui/1.7.0/jquery-ui.js" ></script>
		<%= stylesheet_link_tag "style1.css" %>
		<%= stylesheet_link_tag "grid.css" %>
		<script type="text/javascript" src="myscripts.js"></script>
		<script src="http://openlayers.org/api/2.12/OpenLayers.js"></script>
		<script src="http://openweathermap.org/js/OWM.OpenLayers.1.3.4.js" ></script>
		  
	</head>
	<body onload="init()">
	<div class="header">
			<div class="container_12">
				<div class="topButton"><a href="/main">Home</a></div>
				<div class="topButton"><a href="/weather">Weather</a></div>
				<div class="topButton"><a href="/earth">Earthquakes</a></div>
				<div class="topButton"><a href="/development">U.N.</a></div>
				<div class="topButton"><a href="/about">About Us</a></div>
				<div class="topButton"><a href="/contact">Contact Us</a></div>
			</div>
		</div>
		
		<div class="container_12 main">
			
			<div class="grid_2">
				<div class="content1">
					<br/>
					<div class="menuid">UK Town Search</div>
					<form id="formo" method="post" action="/weather">
						<%= token_tag %>
						<center><input id="findme" type="input" name="textt"/ size="18"></center>
						<center><input id="pushme" type="submit" value="Submit"/></center>
					</form><br/><br/>
					<div class="menuid">Menu</div>
					<center><div class="sideButton"><a href="#" onclick="return show('home','country','3hour','metoffice')">Home</a></div>
					<div id="workplz" class="sideButton"><a href="#" onclick="return show('country','home','3hour','metoffice')">Map</a></div>
					<div class="sideButton"><a href="#" onclick="return show('3hour','country','home','metoffice')">3-Hourly</a></div>
					<div class="sideButton"><a href="#" onclick="return show('metoffice','country','3hour','home')">Twitter</a></div></center>
				</div>
			</div>
			
			<div class="grid_10">
							
						<div id='home'>
							<div class="content1">
								<br/><div class="headero">Home</div>
								<div class="bodyo">Welcome to the weather section of the website. The search bar to the left can be used to search for the weather in a particular town or city in the UK. Afterwards you can then use the menu to the left to view a weather map of the chosen location, a 5 day forecast of the location and its surroundings, and also check for weather alerts on the met office twitter.</div>
							</div>
						</div>
						
						<div id='daily' style="display:none">
						</div>
						
						<div id='3hour' style="display:none">

						</div>
						
						<div id='metoffice' style="display:none">
							<div class="content3">
								<br/><div class="headero">Twitter</div>
												
								<center><a class="twitter-timeline" data-search-query="" data-screen-name="metofficeUK" href="https://twitter.com/search?q=aberdeen"  data-widget-id="443066904366694402">Tweets about "@metofficeUK aberdeen"</a></center>
								<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
							</div>
						</div>
						
						<div id='country' style="display:none">
							<div class="content3">
								<br/><div class="headero">Map</div>
								<center><div class="bodyo">This is a map of the area you have searched for. Feel free to scroll around.</div></center>
								<center><div id="basicMap" style="height:600px;width:600px"></div></center>
							</div>
						</div>
					
			</div>
		</div>
		
	</body>
	
	<script src="http://openlayers.org/api/2.12/OpenLayers.js"></script>
	<script src="http://openweathermap.org/js/OWM.OpenLayers.1.3.4.js" ></script>

	<script type="text/javascript">
	var map;
	function init() {

	//Maps Center 
	var lon = "0.1275"
	var lat = "51.5072"

	var lonlat = new OpenLayers.LonLat(lon, lat);
	lonlat.transform(
		new OpenLayers.Projection("EPSG:4326"), // transform from WGS 1984
		new OpenLayers.Projection("EPSG:900913") // to Spherical Mercator Projection
	);

    map = new OpenLayers.Map("basicMap");

	// Create overlays

	// OSM layer
    var mapnik = new OpenLayers.Layer.OSM();
	// stations layer
	var stations = new OpenLayers.Layer.Vector.OWMStations("Stations");
	// weather layer
	var city = new OpenLayers.Layer.Vector.OWMWeather("Weather");

	//connect layers to map
	map.addLayers([mapnik, stations, city]);

	//Add Layers swither
	map.addControl(new OpenLayers.Control.LayerSwitcher());       	

	map.setCenter( lonlat, 9);

	// Add popups 
	selectControl = new OpenLayers.Control.SelectFeature([city,stations]);
	map.addControl(selectControl);
	selectControl.activate(); 


}

</script>
	
</html>